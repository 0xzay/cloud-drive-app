import { TextInput, PasswordInput, Button, Group, Box } from "@mantine/core";
import { useForm, isEmail, hasLength } from "@mantine/form";
import Link from "next/link";
import styles from "./Auth.module.css";

const LoginForm: React.FC = () => {
  interface FormData {
    email: string;
    password: string;
  }

  const onSubmit = (values: FormData) => {
    console.log(values);
  };

  const form = useForm({
    initialValues: {
      email: "",
      password: "",
    },

    validate: {
      email: isEmail("Invalid email"),
      password: hasLength(
        { min: 2, max: 10 },
        "Password must be 2-10 characters long"
      ),
    },
  });

  return (
    <div className={`${styles.main}`}>
      <div className={`${styles.mainWrapper}`}>
        <svg
          width="133"
          height="70"
          viewBox="0 0 133 70"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className={`${styles.logo}`}
        >
          <path
            d="M9.33984 69.2461C6.83203 69.2461 4.84375 68.457 3.375 66.8789C1.90625 65.3008 1.17188 63.1211 1.17188 60.3398C1.17188 57.6992 1.9375 55.582 3.46875 53.9883C5.00781 52.3867 7.01953 51.5859 9.50391 51.5859C11.5117 51.5859 13.2109 52.0508 14.6016 52.9805L13.6055 55.3828C12.2695 54.5625 10.9258 54.1523 9.57422 54.1523C7.99609 54.1523 6.74609 54.7227 5.82422 55.8633C4.91016 56.9961 4.45312 58.5195 4.45312 60.4336C4.45312 62.418 4.89453 63.9531 5.77734 65.0391C6.66797 66.125 7.93359 66.668 9.57422 66.668C11.0117 66.668 12.4375 66.3086 13.8516 65.5898L14.2734 68.0742C12.9609 68.8555 11.3164 69.2461 9.33984 69.2461ZM21.3281 69.1758C20.4453 69.1758 19.7109 69.0742 19.125 68.8711C18.5469 68.6602 18.0898 68.3281 17.7539 67.875C17.418 67.4219 17.1836 66.8828 17.0508 66.2578C16.918 65.6328 16.8516 64.8555 16.8516 63.9258V51.375L19.9219 51.1758V63.8672C19.9219 65.0234 20.0586 65.8086 20.332 66.2227C20.6055 66.6289 21.1367 66.832 21.9258 66.832C22.3164 66.832 22.8125 66.7891 23.4141 66.7031L23.4961 68.8945C23.4883 68.8945 23.3906 68.9141 23.2031 68.9531C23.0234 68.9922 22.8477 69.0234 22.6758 69.0469C22.5117 69.0781 22.3008 69.1055 22.043 69.1289C21.7852 69.1602 21.5469 69.1758 21.3281 69.1758ZM30.5625 66.9141C31.6016 66.9141 32.3828 66.5352 32.9062 65.7773C33.4297 65.0195 33.6914 63.9336 33.6914 62.5195C33.6914 61.0898 33.4297 60 32.9062 59.25C32.3828 58.5 31.5938 58.125 30.5391 58.125C29.5 58.125 28.7148 58.5039 28.1836 59.2617C27.6602 60.0117 27.3984 61.1016 27.3984 62.5312C27.3984 63.9375 27.6641 65.0195 28.1953 65.7773C28.7266 66.5352 29.5156 66.9141 30.5625 66.9141ZM30.4805 69.2461C28.5742 69.2461 27.0742 68.6289 25.9805 67.3945C24.8867 66.1602 24.3398 64.5352 24.3398 62.5195C24.3398 60.4414 24.8867 58.8047 25.9805 57.6094C27.0742 56.4062 28.6172 55.8047 30.6094 55.8047C32.5312 55.8047 34.0352 56.418 35.1211 57.6445C36.2148 58.8633 36.7617 60.4883 36.7617 62.5195C36.7617 64.5742 36.2109 66.2109 35.1094 67.4297C34.0078 68.6406 32.4648 69.2461 30.4805 69.2461ZM48.5625 67.9922C47.5391 68.8281 46.1914 69.2461 44.5195 69.2461C42.8477 69.2461 41.5 68.8281 40.4766 67.9922C39.4609 67.1562 38.9531 65.9297 38.9531 64.3125V56.1211H42.0352V64.1953C42.0352 65.1562 42.2344 65.8516 42.6328 66.2812C43.0391 66.7109 43.6797 66.9258 44.5547 66.9258C45.4141 66.9258 46.0391 66.7148 46.4297 66.293C46.8281 65.8633 47.0273 65.1641 47.0273 64.1953V56.1211H50.0977V64.3125C50.0977 65.9219 49.5859 67.1484 48.5625 67.9922ZM57.7031 69.2461C56.0234 69.2461 54.7031 68.6289 53.7422 67.3945C52.7812 66.1602 52.3008 64.5117 52.3008 62.4492C52.3008 60.4492 52.7773 58.8438 53.7305 57.6328C54.6914 56.4141 56.0117 55.8047 57.6914 55.8047C59.5195 55.8047 60.8125 56.4531 61.5703 57.75C61.4922 56.9844 61.4531 56.2461 61.4531 55.5352V51.375L64.5234 51.1758V69H61.8633L61.5234 67.2422C61.3906 67.4531 61.2656 67.6367 61.1484 67.793C61.0391 67.9414 60.875 68.1172 60.6562 68.3203C60.4375 68.5156 60.1992 68.6758 59.9414 68.8008C59.6914 68.918 59.3711 69.0195 58.9805 69.1055C58.5977 69.1992 58.1719 69.2461 57.7031 69.2461ZM58.4297 66.9141C60.4922 66.9141 61.5391 65.5117 61.5703 62.707C61.5703 61.1211 61.3047 59.9648 60.7734 59.2383C60.2422 58.5117 59.4492 58.1484 58.3945 58.1484C57.4727 58.1484 56.7344 58.5195 56.1797 59.2617C55.6328 59.9961 55.3594 61.082 55.3594 62.5195C55.3594 63.9492 55.6328 65.0391 56.1797 65.7891C56.7344 66.5391 57.4844 66.9141 58.4297 66.9141ZM77.5078 66.457H79.7812C81.7422 66.457 83.2344 65.9453 84.2578 64.9219C85.2812 63.8906 85.793 62.3906 85.793 60.4219C85.793 58.3125 85.2656 56.7812 84.2109 55.8281C83.1562 54.8672 81.5664 54.3867 79.4414 54.3867H77.5078V66.457ZM74.332 69V51.832H79.3008C80.8008 51.832 82.1445 52.0039 83.332 52.3477C84.5195 52.6914 85.5391 53.2109 86.3906 53.9062C87.25 54.5938 87.9062 55.4844 88.3594 56.5781C88.8203 57.6641 89.0508 58.9219 89.0508 60.3516C89.0508 63.125 88.2148 65.2617 86.543 66.7617C84.8711 68.2539 82.5547 69 79.5938 69H74.332ZM91.7812 69V56.1211H94.3594L94.7578 58.0898C95.6016 56.7383 96.8242 56.0625 98.4258 56.0625C98.7617 56.0625 99.0352 56.0781 99.2461 56.1094L99.1992 58.6758C98.8867 58.6289 98.5625 58.6055 98.2266 58.6055C97.0938 58.6055 96.2461 58.9062 95.6836 59.5078C95.1289 60.1094 94.8516 60.9453 94.8516 62.0156V69H91.7812ZM101.191 69V56.1211H104.262V69H101.191ZM101.191 54.2461V51.6211H104.273V54.2461H101.191ZM111.082 69L105.949 56.1211H109.207C109.332 56.4727 109.727 57.5664 110.391 59.4023C111.062 61.2305 111.508 62.4766 111.727 63.1406C112.172 64.4375 112.492 65.418 112.688 66.082C112.688 66.0742 112.754 65.8203 112.887 65.3203C113.02 64.8203 113.145 64.3516 113.262 63.9141C113.387 63.4688 113.465 63.1992 113.496 63.1055C113.504 63.0898 113.859 62.0117 114.562 59.8711C115.273 57.7305 115.695 56.4805 115.828 56.1211H119.062L114.188 69H111.082ZM126.527 69.2461C124.457 69.2461 122.844 68.6523 121.688 67.4648C120.539 66.2695 119.965 64.6211 119.965 62.5195C119.965 60.4727 120.508 58.8438 121.594 57.6328C122.68 56.4219 124.16 55.8125 126.035 55.8047C127.809 55.8047 129.184 56.3594 130.16 57.4688C131.145 58.5781 131.637 60.0508 131.637 61.8867C131.637 62.0195 131.633 62.2344 131.625 62.5312C131.625 62.8281 131.625 63.0469 131.625 63.1875H123.059C123.09 64.3906 123.418 65.3242 124.043 65.9883C124.676 66.6445 125.543 66.9727 126.645 66.9727C128.051 66.9727 129.402 66.6055 130.699 65.8711L131.133 68.0508C129.844 68.8477 128.309 69.2461 126.527 69.2461ZM123.117 61.2539H128.742C128.742 60.207 128.504 59.4023 128.027 58.8398C127.551 58.2773 126.891 57.9961 126.047 57.9961C125.258 57.9961 124.59 58.2695 124.043 58.8164C123.504 59.3633 123.195 60.1758 123.117 61.2539Z"
            fill="#19191B"
          />
          <g clipPath="url(#clip0_2_195)">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M79.8909 14.4808C79.8909 14.4808 78.4849 10.8471 74.7729 8.36313C66.2089 2.62913 54.4609 7.87907 53.1289 18.1991C53.1189 18.2751 53.0089 18.279 53.0709 18.263C49.2629 19.211 46.5249 22.8611 47.0689 27.0711C47.8009 32.7451 54.9989 35.6509 54.9989 31.8949C54.9989 29.5849 54.1589 30.3092 52.5769 29.1332C48.4069 26.0332 53.2109 19.5011 57.4729 22.8871C54.8569 14.2711 63.9729 7.10113 71.6249 11.1551C74.3529 12.5991 76.2349 15.2272 76.7989 18.0272C82.4709 17.8232 85.8369 25.5647 79.9669 29.1087C79.3729 29.4667 78.9989 30.111 78.9989 30.805C78.9989 32.279 80.5809 33.3008 81.8689 32.5848C82.4729 32.2508 83.0409 31.859 83.5609 31.411C89.5549 26.257 87.3269 16.7388 79.8909 14.4808ZM74.9989 32.3451V32.2308C74.9989 32.2448 74.9929 32.2549 74.9929 32.2669C74.9929 32.2929 74.9989 32.3191 74.9989 32.3451ZM74.9929 32.2669C74.9709 33.3489 74.0909 34.0072 73.0009 34.0072H60.9989C57.8849 34.0072 58.8189 30.0072 60.9989 30.0072H73.0009C74.0789 30.0072 74.9529 31.1829 74.9929 32.2669Z"
              fill="#008FFD"
            />
          </g>
          <defs>
            <clipPath id="clip0_2_195">
              <rect
                width="40"
                height="40"
                fill="white"
                transform="translate(47)"
              />
            </clipPath>
          </defs>
        </svg>
        <div className={`${styles.form}`}>
          <div className={`${styles.heading}`}>
            <h1>Log in</h1>
            <p>Sign in if you already have an account.</p>
          </div>
          <Box sx={{ width: "100%" }}>
            <form onSubmit={form.onSubmit(onSubmit)}>
              <TextInput
                withAsterisk
                placeholder="Email"
                size="md"
                {...form.getInputProps("email")}
              />

              <PasswordInput
                withAsterisk
                placeholder="Password"
                sx={{ marginTop: "10px" }}
                size="md"
                {...form.getInputProps("password")}
              />

              <Group position="right" mt="md">
                <Button
                  type="submit"
                  color="dark.7"
                  sx={{
                    width: "100%",
                    height: "45px",
                    borderRadius: "9px",
                    fontWeight: 400,
                  }}
                >
                  Sign in
                </Button>
              </Group>
            </form>
          </Box>
          <div className={`${styles.options}`}>
            <p>
              Donâ€™t have an account?{" "}
              <Link href="/dashboard/register">Sign up for free</Link>
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default LoginForm;
